{"ast":null,"code":"var _jsxFileName = \"/Users/lamnguyen/Desktop/orm-demo/frontend/src/components/ViewEmployees.js\";\nimport './css/ViewEmployees.css';\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddNewEmployee() {\n  //Get text from user\n  const text = document.getElementsByClassName('newEmployeeTextEntry')[0].value; //Error handling\n\n  if (text == \"\") {\n    return;\n  } //Make a JSON Object\n\n\n  const firstName = text.substring(0, text.indexOf(\" \"));\n  const lastName = text.substring(0, text.indexOf(\" \") + 1);\n  const rawJSON = {\n    \"id\": firstName + \"_\" + lastName + \"_\" + text + \"@gmail.com\",\n    \"first_name\": firstName,\n    \"last_name\": lastName,\n    \"email\": text + \"@gmail.com\",\n    \"age\": 20,\n    \"enrolled\": true\n  }; //Make a post request\n\n  fetch('http://localhost:3000/api/name', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(rawJSON)\n  }).then(() => {\n    console.log(\"new name added\");\n  });\n}\n\n_c = AddNewEmployee;\n\nfunction RemoveEmployee() {\n  //Get text from user\n  const text = document.getElementsByClassName('removeEmployeeTextEntry')[0].value; //Error handling\n\n  if (text == \"\") {\n    return;\n  } //Make a delete request\n\n\n  fetch('http://localhost:3000/api/name', {\n    method: 'DELETE',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"name\": text\n    })\n  });\n}\n\n_c2 = RemoveEmployee;\n\nasync function RetrieveEmployees() {\n  //Get the response\n  console.log(\"Retrieving Data...\");\n  const resp = await fetch('/api/name/');\n  const body = await resp.json(); //Error handling \n\n  if (resp.status !== 200) {\n    throw Error(body.message);\n  } //Return data\n\n\n  return body;\n}\n\n_c3 = RetrieveEmployees;\n\nclass ViewEmployee extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      response: '',\n      showNewEmployeePage: false\n    };\n  }\n\n  componentDidMount() {\n    RetrieveEmployees().then(res => {\n      this.setState({\n        response: res,\n        showNewEmployeePage: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      response\n    } = this.state;\n    var employeeNames = []; //Add emplooyees to a an array\n\n    for (var index in response) {\n      employeeNames.push(response[index][\"first_name\"] + \" \" + response[index][\"last_name\"]);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"child\",\n        children: /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"header\",\n          children: \" Current Employees \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editEmployeeContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"newEmployeeTextEntry\",\n          placeholder: \"Enter name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"createButton\",\n          onClick: AddNewEmployee,\n          children: \"Add New Employee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"removeEmployeeTextEntry\",\n          placeholder: \"Enter name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"removeButton\",\n          onClick: RemoveEmployee,\n          children: \"Remove Employee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'black',\n          fontSize: 25\n        },\n        children: \" Names: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", employeeNames.toString(), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default ViewEmployee;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AddNewEmployee\");\n$RefreshReg$(_c2, \"RemoveEmployee\");\n$RefreshReg$(_c3, \"RetrieveEmployees\");","map":{"version":3,"sources":["/Users/lamnguyen/Desktop/orm-demo/frontend/src/components/ViewEmployees.js"],"names":["React","Component","AddNewEmployee","text","document","getElementsByClassName","value","firstName","substring","indexOf","lastName","rawJSON","fetch","method","headers","body","JSON","stringify","then","console","log","RemoveEmployee","RetrieveEmployees","resp","json","status","Error","message","ViewEmployee","state","response","showNewEmployeePage","componentDidMount","res","setState","render","employeeNames","index","push","color","fontSize","toString"],"mappings":"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","sourcesContent":["import './css/ViewEmployees.css';\nimport React, {Component} from 'react';\n\nfunction AddNewEmployee() {\n    //Get text from user\n    const text = document.getElementsByClassName('newEmployeeTextEntry')[0].value\n    \n    //Error handling\n    if(text == \"\"){ return; }\n\n    //Make a JSON Object\n    const firstName = text.substring(0, text.indexOf(\" \"));\n    const lastName = text.substring(0, text.indexOf(\" \") + 1)\n    const rawJSON = {\n        \"id\": firstName + \"_\" + lastName + \"_\" + text + \"@gmail.com\",\n        \"first_name\": firstName,\n        \"last_name\": lastName,\n        \"email\": text + \"@gmail.com\",\n        \"age\": 20,\n        \"enrolled\": true\n    }\n\n    //Make a post request\n    fetch('http://localhost:3000/api/name', {\n        method: 'POST',\n        headers: { \"Content-Type\": \"application/json\"},\n        body: JSON.stringify(rawJSON)\n    }).then(() => {\n        console.log(\"new name added\")\n    })\n}\n\nfunction RemoveEmployee(){\n    //Get text from user\n    const text = document.getElementsByClassName('removeEmployeeTextEntry')[0].value\n\n    //Error handling\n    if(text == \"\"){ return; }\n\n    //Make a delete request\n    fetch('http://localhost:3000/api/name', {\n        method: 'DELETE',\n        headers: { \"Content-Type\": \"application/json\"},\n        body: JSON.stringify({\"name\": text})\n    })\n}\n\nasync function RetrieveEmployees(){\n    //Get the response\n    console.log(\"Retrieving Data...\")\n    const resp = await fetch('/api/name/');\n    const body = await resp.json();\n\n    //Error handling \n    if(resp.status !== 200){\n        throw Error(body.message);\n    }\n\n    //Return data\n    return body;\n}\n\nclass ViewEmployee extends React.Component {\n\n    state = {response: '', showNewEmployeePage: false }\n\n    componentDidMount(){\n        RetrieveEmployees().then(res => {\n            this.setState({ response: res , showNewEmployeePage: false });\n        })\n    }\n    \n    render() {\n        const { response } = (this.state);\n        var employeeNames = []\n\n        //Add emplooyees to a an array\n        for(var index in response){\n            employeeNames.push(response[index][\"first_name\"] + \" \" +  response[index][\"last_name\"])\n        }\n        \n        return (<div className=\"container\">\n            <div className='child'>\n                <header className='header'> Current Employees </header>\n            </div>\n\n            <div className='editEmployeeContainer'>\n                <input className='newEmployeeTextEntry' placeholder='Enter name:'></input>\n\n                <button className='createButton' onClick={AddNewEmployee}>\n                    Add New Employee\n                </button>\n\n                <input className='removeEmployeeTextEntry' placeholder='Enter name:'></input>\n\n                <button className='removeButton' onClick={RemoveEmployee}>\n                    Remove Employee\n                </button>\n            </div>\n\n\n            <p style={{color: 'black', fontSize: 25}}> Names: </p>\n            <p> {employeeNames.toString()} </p>\n\n        </div>);\n    }\n}\n\nexport default ViewEmployee;"]},"metadata":{},"sourceType":"module"}